square: false
columns: 1
type: grid
cards:
  - type: horizontal-stack
    cards:
      - type: custom:mushroom-entity-card
        entity: sensor.vtr500_mode_status
        primary_info: none
        icon_type: none
      - type: conditional
        conditions:
          - entity: switch.vtr500_away_mode
            state: "on"
        card:
          type: custom:mushroom-entity-card
          entity: sensor.vtr500_away_countdown_time_t
          primary_info: none
          icon_type: none
      - type: conditional
        conditions:
          - entity: switch.vtr500_crowded_mode
            state: "on"
        card:
          type: custom:mushroom-entity-card
          entity: sensor.vtr500_crowded_countdown_time_t
          primary_info: none
          icon_type: none
      - type: conditional
        conditions:
          - entity: switch.vtr500_refresh_mode
            state: "on"
        card:
          type: custom:mushroom-entity-card
          entity: sensor.vtr500_refresh_countdown_time_t
          primary_info: none
          icon_type: none
      - type: conditional
        conditions:
          - entity: switch.vtr500_holiday_mode
            state: "on"
        card:
          type: custom:mushroom-entity-card
          entity: sensor.vtr500_holiday_countdown_time_t
          primary_info: none
          icon_type: none
  - square: false
    columns: 5
    type: grid
    cards:
      - type: custom:button-card
        entity: switch.vtr500_auto_mode
        icon: mdi:fan-auto
        aspect_ratio: 1/1
        show_state: false
        name: Auto
        styles:
          icon:
            - color: |
                [[[
                  if (entity.state == 'on' ) return 'orange' 
                  else return '#50729c';
                ]]]
      - type: custom:button-card
        entity: switch.vtr500_man_low_mode
        icon: mdi:fan-speed-1
        aspect_ratio: 1/1
        show_state: false
        name: Low
        styles:
          icon:
            - color: |
                [[[
                  if (entity.state == 'on' ) return 'orange' 
                  if (states["sensor.vtr500_manual_mode_command_register"].state == 2) return 'orange'
                  else return '#50729c';
                ]]]
      - type: custom:button-card
        entity: switch.vtr500_man_normal_mode
        icon: mdi:fan-speed-2
        aspect_ratio: 1/1
        show_state: false
        name: Normal
        styles:
          icon:
            - color: |
                [[[
                  if (entity.state == 'on' ) return 'orange' 
                  if (states["sensor.vtr500_manual_mode_command_register"].state == 3) return 'orange'
                  else return '#50729c';
                ]]]
      - type: custom:button-card
        entity: switch.vtr500_man_high_mode
        icon: mdi:fan-speed-3
        aspect_ratio: 1/1
        show_state: false
        name: High
        styles:
          icon:
            - color: |
                [[[
                  if (entity.state == 'on' ) return 'orange' 
                  if (states["sensor.vtr500_manual_mode_command_register"].state == 4) return 'orange'
                  else return '#50729c';
                ]]]
      - type: custom:button-card
        entity: switch.vtr500_crowded_mode
        icon: mdi:fan-chevron-up
        aspect_ratio: 1/1
        show_state: false
        name: Party
        styles:
          icon:
            - color: |
                [[[
                  if (entity.state == 'on' ) return 'orange' 
                  else return '#50729c';
                ]]]
      - type: custom:button-card
        entity: switch.vtr500_refresh_mode
        icon: mdi:fan-plus
        aspect_ratio: 1/1
        show_state: false
        name: Boost
        styles:
          icon:
            - color: |
                [[[
                  if (entity.state == 'on' ) return 'orange' 
                  else return '#50729c';
                ]]]
      - type: custom:button-card
        entity: switch.vtr500_away_mode
        icon: mdi:fan-minus
        aspect_ratio: 1/1
        show_state: false
        name: Away
        styles:
          icon:
            - color: |
                [[[
                  if (entity.state == 'on' ) return 'orange' 
                  else return '#50729c';
                ]]]
      - type: custom:button-card
        entity: switch.vtr500_holiday_mode
        icon: mdi:fan-remove
        aspect_ratio: 1/1
        show_state: false
        name: Holiday
        styles:
          icon:
            - color: |
                [[[
                  if (entity.state == 'on' ) return 'orange' 
                  else return '#50729c';
                ]]]
      - type: custom:button-card
        entity: switch.vtr500_man_stop_mode
        icon: mdi:fan-off
        aspect_ratio: 1/1
        show_state: false
        name: Stop
        styles:
          icon:
            - color: |
                [[[
                  if (entity.state == 'on' ) return 'red' 
                  else return '#50729c';
                ]]]
      - type: custom:button-card
        entity: sensor.vtr500_mode_status
        icon: mdi:car-brake-low-pressure
        aspect_ratio: 1/1
        show_state: false
        show_name: true
        name: Pressure Guard
        styles:
          icon:
            - color: |
                [[[
                  if (entity.state == 'Pressure guard' ) return 'orange' 
                  else return '#50729c';
                ]]]
  - type: entities
    show_header_toggle: false
    entities:
      - entity: input_number.vtr500_refresh_mode_duration_sp
        type: custom:numberbox-card
        name: Boost Duration Setpoint
        icon: mdi:timelapse
        unit: m
        style: >
          :host { {% if states('input_number.vtr500_refresh_mode_duration_sp') |
          float == states('sensor.vtr500_refresh_mode_duration') | float %}
              --paper-item-icon-color: green;
              color: green;
            {% else %}
              --paper-item-icon-color: red;
              color: red;
            {% endif %}
          }
      - entity: input_number.vtr500_crowded_mode_duration_sp
        type: custom:numberbox-card
        name: Party Duration Setpoint
        icon: mdi:timelapse
        unit: h
        style: >
          :host { {% if states('input_number.vtr500_crowded_mode_duration_sp') |
          float == states('sensor.vtr500_crowded_mode_duration') | float %}
              --paper-item-icon-color: green;
              color: green;
            {% else %}
              --paper-item-icon-color: red;
              color: red;
            {% endif %}
          }
      - entity: input_number.vtr500_away_mode_duration_sp
        type: custom:numberbox-card
        name: Away Duration Setpoint
        icon: mdi:timelapse
        unit: h
        style: >
          :host { {% if states('input_number.vtr500_away_mode_duration_sp') |
          float == states('sensor.vtr500_away_mode_duration') | float %}
              --paper-item-icon-color: green;
              color: green;
            {% else %}
              --paper-item-icon-color: red;
              color: red;
            {% endif %}
          }
      - entity: input_number.vtr500_holiday_mode_duration_sp
        type: custom:numberbox-card
        name: Holiday Duration Setpoint
        icon: mdi:timelapse
        unit: d
        style: >
          :host { {% if states('input_number.vtr500_holiday_mode_duration_sp') |
          float == states('sensor.vtr500_holiday_mode_duration') | float %}
              --paper-item-icon-color: green;
              color: green;
            {% else %}
              --paper-item-icon-color: red;
              color: red;
            {% endif %}
          }
      - entity: input_number.vtr500_eco_offset_temp_sp
        type: custom:numberbox-card
        name: Eco Offset Setpoint
        icon: mdi:timelapse
        unit: Â°C
        style: >
          :host { {% if states('input_number.vtr500_eco_offset_temp_sp') | float
          == states('sensor.vtr500_eco_heat_offset') | float %}
              --paper-item-icon-color: green;
              color: green;
            {% else %}
              --paper-item-icon-color: red;
              color: red;
            {% endif %}
          }
  - type: horizontal-stack
    cards:
      - type: custom:button-card
        color_type: card
        entity: sensor.vtr500_a_alarm
        aspect_ratio: 2/1
        show_name: true
        name: A# Alarm
        state:
          - value: true
            color: red
            icon: mdi:alert
            styles:
              card:
                - animation: blink 2s ease infinite
          - operator: default
            color: green
            icon: mdi:alarm-light
      - type: custom:button-card
        color_type: card
        entity: sensor.vtr500_b_alarm
        aspect_ratio: 2/1
        show_name: true
        name: B# Alarm
        state:
          - value: true
            color: red
            icon: mdi:alert
            styles:
              card:
                - animation: blink 2s ease infinite
          - operator: default
            color: green
            icon: mdi:alarm-light
      - type: custom:button-card
        color_type: card
        entity: sensor.vtr500_c_alarm
        aspect_ratio: 2/1
        show_name: true
        name: C# Alarm
        state:
          - value: true
            color: red
            icon: mdi:alert
            styles:
              card:
                - animation: blink 2s ease infinite
          - operator: default
            color: green
            icon: mdi:alarm-light
      - type: custom:button-card
        color_type: card
        entity: sensor.vtr500_filter_warning_alarm
        aspect_ratio: 2/1
        show_name: true
        name: Filter Alarm
        state:
          - value: true
            color: red
            icon: mdi:alert
            styles:
              card:
                - animation: blink 2s ease infinite
          - operator: default
            color: green
            icon: mdi:air-filter
  - type: custom:mushroom-climate-card
    entity: climate.vent_vtr500
    name: Systemair Thermostat
  - square: false
    columns: 1
    type: grid
    cards: []